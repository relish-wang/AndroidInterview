# 提升性能Tips



极易OOM
- bitmap
  - 缓存
  - 缩放
  - 工作线程中处理
  - 显示选择合适的像素格式: ARGB_8888、ARGB_4444、ARGB_565、ALPHA_8
  - 处理大量图像时, 重用所分配的内存(HOW?), 避免内存抖动
  - 根据屏幕尺寸和密度挑选合适的图片压缩方案和压缩率以及图片分辨率
- 不要在类内部调用get/set(没有JIT: 直接访问比get访问快3被; 有JIT: 直接访问比get访问快7倍。)
- private的非内部类为了访问外部类代码, 在编译时会生成静态方法, 会导致访问变慢。改成包作用域可以避免, 但会导致包级别其他类也能访问这个内部类。这点需要开发者自己取舍。
- 减少apk大小
  - 移除未使用代码(minifyEnable true)
  - 移除未使用资源或不必要的资源
    - shrinkResources true // 移除未使用的资源
    - resConfig "en", "zh" // 仅保留中文和英文的资源(包括依赖的其他库也会剔除其他语言的资源); 屏幕密度、方向、语言、Android版本等。

